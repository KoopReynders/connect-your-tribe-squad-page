<%- include('./partials/head'); %>

<%- include('./partials/header') %>

<main>

  <article>
    <form>
      <label for="searchmembers">Zoek frontenders:</label>
      <input type="text" 
        list="members" 
        id="searchmembers" 
        name="searchmembers" 
        autocomplete="off" 
        placeholder="Zoek frontenders">
      <datalist id="members">
        <% data.forEach(member => { %>
            <option value="<%= member.name %> <%= member.prefix; %> <%= member.surname; %>"></option>
          <% }); %>
      </datalist>
    </form>

    <nav>      
      <a href="./squad/squad-a-2022">
        <img src="/members/squad-a-2022.JPG" alt="">
        <h3>Squad A</h3> 
      </a>
      <a href="./squad/squad-b-2022">
        <img src="/members/squad-b-2022.JPG" alt="">
        <h3>Squad B</h3> 
      </a>
      <a href="./squad/squat-c-2022">
        <img src="/members/squat-c-2022.JPG" alt="">
        <h3>Squat C</h3> 
      </a>
      <a href="./squad/founders-2021">
        <img src="/members/founders-2021.JPG" alt="">
        <h3>Founders</h3> 
      </a>
    </nav>

    <ul>

    </ul>

  </article>

</main>

<script>
  // Formulier afhandeling
  const searchmembers =  document.querySelector('#searchmembers');
  searchmembers.addEventListener('change', (event) => {
    const name = event.target.value;
    const dashName = name.replace(/\s+/g, '-'); //replace spaces with dash
    // console.log(imgName);

    const markup = `
        <li id="${dashName}">
            <img src="/members/${dashName}.JPG"" alt="">
            <h3>${name}</h3>
        </li>
    `;
    document.querySelector('ul').insertAdjacentHTML("afterbegin",markup);
    window.location.href = "#"+dashName;
    searchmembers.value=""; //clear input field

  });

  /**
   * Gebruikte bronnen 
   * 3 Ways To Create HTML Element In JavaScript 
   * https://softauthor.com/create-html-element-in-javascript/
   * 
   * Element.insertAdjacentHTML() 
   * https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentHTML
   * 
  */

</script>

<%- include('./partials/foot') %>